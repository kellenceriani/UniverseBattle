<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LineupWars: Universe Battle</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="extra.css" />
</head>

<body>

  <!-- Info Button (fixed on top-right) -->
  <button id="info-btn" title="How to Play">?</button>

  <!-- Info Panel Modal -->
  <div id="info-panel" class="modal Hider">
    <div class="panel modal-content">
      <span id="close-info" class="close-btn">&times;</span>
      <h2>âš”ï¸ LineupWars: Universe Battle</h2>

      <section>
        <h3>ğŸ® Overview</h3>
        <p>
          Draft elite combatants into specialized roles and build the ultimate team.
          Mid-draft, a hidden universe is revealed, radically shifting the balance of power and forcing you to adapt
          your strategy.
          After the draft, your team faces off in a cinematic showdown where combat effectiveness, synergy, and
          adaptability determine who survives.
          Every choice countsâ€”only one team will emerge victorious.
        </p>
      </section>

      <section>
        <h3>ğŸ§­ Roles</h3>
        <p>
          Each match selects 6 balanced combat roles from a large rotating pool: offense, defense, control, tactics,
          mobility, and wildcard.
          Roles are revealed before drafting, and snake order applies.
          Success depends not just on individual strength, but on team composition, role synergy, and how well your
          fighters can adapt to changing circumstances.
        </p>
      </section>

      <section>
        <h3>ğŸŒŒ Universe Reveal</h3>
        <p>
          A random universe is chosen at game start but remains hidden until mid-draft.
          Once revealed, the universe dramatically influences the final battle, affecting terrain, rules, and
          environmental hazards.
          Teams must adjust strategies and leverage their strengths to survive in a world that could turn familiar
          tactics upside down.
        </p>
      </section>


      <section>
        <h3>ğŸ§  Extra Modes</h3>
        <ul>
          <li><strong>Anomaly Shift:</strong> One role mutates after the draft.</li>
          <li><strong>Execution Order:</strong> Secretly execute a character name before drafting.</li>
          <li><strong>Chaos Draft:</strong> Draft order reshuffles every turn mid-draft. Also may pick for Opposition.
          </li>
        </ul>
      </section>
    </div>
  </div>

  <br>
  <main id="app">

    <!-- SETUP SCREEN -->
    <section id="setup-section" class="screen active panel">
      <h1>LineupWars: Universe Battle</h1>

      <form id="setup-form">
        <hr />

        <label>
          Number of Players (2â€“6):
          <input type="number" id="player-count" min="2" max="6" value="2" required />
        </label>

        <div id="player-names-container"></div>

        <hr />

        <!-- Draft Category Input -->
        <label for="category-input">
          Draft Category (optional):
          <input type="text" id="category-input" placeholder="e.g., PokÃ©mon" />
        </label>

        <fieldset>
          <legend>Draft Configuration</legend>
          <p>
            Six combat roles will be randomly selected from the master pool and remain fixed for the entire draft.
            When building your team, keep in mind: characterâ€™s fit for their role is (~60%), followed by adaptability to
            the universe and terrain (~20%), team synergy (~10%), and overall strength (~10%).
            Balancing these factors is key to creating a winning team.
          </p>
        </fieldset>


        <hr />

        <fieldset class="extra-modes">
          <legend>Extra Modes</legend>

          <label class="checkbox-container">
            ğŸ”® Anomaly Shift
            <input type="checkbox" name="xtra-mode" value="anomaly" />
            <span class="checkmark"></span>
          </label>

          <label class="checkbox-container">
            â˜ ï¸ Execution Order
            <input type="checkbox" name="xtra-mode" value="execution" />
            <span class="checkmark"></span>
          </label>

          <label class="checkbox-container">
            ğŸ”€ Chaos Draft
            <input type="checkbox" name="xtra-mode" value="chaos" />
            <span class="checkmark"></span>
          </label>
        </fieldset>

<!-- Chaos Settings Modal -->
<div id="chaos-settings-modal" class="modal Hider">
  <div class="modal-content panel">
    <span id="chaos-settings-close" class="close-btn">&times;</span>
    <h2>âš¡ Chaos Draft Settings</h2>

    <fieldset class="extra-modes">
      <legend>Player Order</legend>

      <label class="checkbox-container">
        ğŸ² Random player each pick
        <input type="checkbox" id="chaos-random-player" checked />
        <span class="checkmark"></span>
      </label>

      <p style="color:var(--text-dim); font-size:0.9rem;">
        If unchecked, Chaos keeps normal snake order.
      </p>
    </fieldset>
    <br>
    <fieldset class="extra-modes">
      <legend>Cell Restrictions</legend>

      <label class="checkbox-container">
        ğŸ§ Only pick from active playerâ€™s column (Unless team is full)
        <input type="checkbox" id="chaos-player-column" />
        <span class="checkmark"></span>
      </label>

      <label class="checkbox-container">
        ğŸ“ Only pick from current round
        <input type="checkbox" id="chaos-current-round" />
        <span class="checkmark"></span>
      </label>

      <p style="color:var(--text-dim); font-size:0.9rem;">
        If neither is checked, any remaining cell is valid.
        Only can check one.
      </p>
    </fieldset>
    <br>
    <fieldset class="extra-modes">
      <legend>Chaos Start Round</legend>

      <label for="chaos-start-range">
        Chaos begins on:
      </label>

      <select id="chaos-start-range">
        
        <option value="1">Round 1</option>
        <option value="1-2">Rounds 1â€“2</option>
        <option value="1-3" selected>Rounds 1â€“3</option>
        <option value="1-4">Rounds 1â€“4</option>
        <option value="2">Round 2</option>
        <option value="2-3">Rounds 2â€“3</option>
        <option value="2-4">Rounds 2â€“4</option>
        <option value="3">Round 3</option>
        <option value="3-4">Rounds 3â€“4</option>
        <option value="4">Round 4</option>
      </select>

  <label class="checkbox-container chaos-start-checkbox">
    Start on 1st pick of Round.
    <input type="checkbox" id="chaos-start-beginning" />
    <span class="checkmark"></span>
  </label>
    </fieldset>

    <div style="margin-top:20px; text-align:right;">
      <button id="chaos-settings-save" class="btn-primary">
        Save Settings
      </button>
    </div>
  </div>
</div>
        
        <button type="submit" class="btn-primary">Start Draft</button>
      </form>
    </section>

    <!-- EXECUTION ORDER SECRET PHASE -->
    <section id="execution-section" class="screen panel">
      <h2>â˜ ï¸ Execution Order</h2>
      <p>
        Pass the device. Each player secretly enters one character name to execute.
        Executed units drafted later suffer a massive penalty.
      </p>
      <div id="execution-entry-area"></div>
    </section>


    <!-- DRAFT SCREEN -->
    <section id="draft-section" class="screen panel">
      <h1>Battle Draft</h1>

      <div id="universe-container" class="hidden panel">
        <h2>ğŸŒŒ Universe Revealed</h2>
        <div id="universe" class="universe hidden"></div>
      </div>

      <div id="draft-info" class="draft-header">
        <div class="status-box">
          <strong>Current Player:</strong>
          <span id="current-player"></span>
        </div>
        <div class="status-box">
          <strong>Current Role:</strong>
          <span id="current-role"></span>
        </div>
        <div class="status-box">
          <strong>Universe:</strong>
          <span id="current-universe">???</span>
          <span id="current-category">
            <span id="category-label" style="color:#fff;"></span>
            <span id="category-text" style="color:var(--accent);"></span>
          </span>
        </div>


      </div>

      <div id="draft-table-wrapper">
        <table id="draft-table" aria-label="Draft table">
          <thead>
            <tr>
              <th>Round / Role</th>
              <!-- Player headers injected by JS with hover descriptions -->
            </tr>
          </thead>
          <tbody>
            <!-- Draft rows injected by JS -->
          </tbody>
        </table>
      </div>

      <form id="pick-form" class="pick-form">
        <label for="character-input">
          Enter character for <span id="input-role"></span>:
        </label>
        <input type="text" id="character-input" required autocomplete="off" />
        <button type="submit" class="btn-primary">Confirm Pick</button>
      </form>
    </section>

    <!-- FINALIZE SCREEN -->
    <section id="finalize-section" class="screen panel">
      <h1>Final Battle Groups</h1>

      <div id="final-crews"></div>

      <br>
      <h2>ğŸ¤– ChatGPT Battle Evaluation Prompt</h2>
      <h4>
        <div id="final-universe"></div>
      </h4>
      <div style="display:flex; flex-wrap:wrap; gap:0.5rem;">
        <pre id="chatgpt-prompt" contenteditable="false" tabindex="0"></pre>

        <div style="display:flex; flex-direction:column; gap:0.5rem; min-width:160px;">
          <button id="copy-prompt-btn" class="btn-secondary">Copy</button>
          <button id="edit-prompt-btn" class="btn-secondary">Edit</button>
          <a href="https://chat.openai.com" target="_blank" rel="noopener noreferrer">
            <button class="btn-primary">Go to ChatGPT â†’</button>
          </a>
        </div>
      </div>
    </section>

  </main>

  <!-- Anomaly Shift Modal -->
  <div id="anomaly-container" class="Hider">
    <div class="anomaly-backdrop"></div>

    <div class="anomaly-modal">
      <div class="anomaly-header">
        <span class="anomaly-icon">ğŸ”®</span>
        <h2>Anomaly Shift</h2>
      </div>

      <div class="anomaly-body">
        <p id="anomaly-message"></p>
      </div>

      <div class="anomaly-footer">
        <button id="anomaly-close-btn" class="btn-primary">Continue</button>
      </div>

      <!-- Decorative sparkles -->
      <div class="sparkles">
        <span></span><span></span><span></span><span></span><span></span>
      </div>
    </div>
  </div>

  <!-- Chaos Shift Modal -->
  <div id="chaos-container" class="modal Hider">
    <div class="anomaly-backdrop"></div>
    <div class="anomaly-modal">
      <div class="anomaly-header">
        <div class="anomaly-icon">âš¡</div>
        <h2>Chaos Draft Activated!</h2>
      </div>
      <div class="anomaly-body">
        <p>The remaining picks are being reshuffled randomly across all players!</p>
      </div>
      <div class="anomaly-footer">
        <button id="chaos-close-btn" class="btn-primary">Resume Draft</button>
      </div>
    </div>
  </div>


  <script>
    const infoBtn = document.getElementById('info-btn');
    const infoPanel = document.getElementById('info-panel');
    const closeInfo = document.getElementById('close-info');

    infoBtn.addEventListener('click', () => infoPanel.classList.remove('Hider'));
    closeInfo.addEventListener('click', () => infoPanel.classList.add('Hider'));
  </script>


  <script src="app.js"></script>
</body>

</html>